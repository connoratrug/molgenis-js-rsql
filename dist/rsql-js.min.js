'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.transformToRSQL=void 0,exports.containsRsqlReservedCharacter=containsRsqlReservedCharacter,exports.rsqlEscape=rsqlEscape,exports.toRsqlValue=toRsqlValue,exports.encodeRsqlValue=encodeRsqlValue,exports.getRsqlFromConstraint=getRsqlFromConstraint;var _mdurl=require('mdurl');function containsRsqlReservedCharacter(a){return /["'();,=!~<> ]/.test(a)}function rsqlEscape(a){var b=(a.match(/["]/g)||[]).length,c=(a.match(/[']/g)||[]).length,d=b>=c?'\'':'"';return d+a.split(d).join('\\'+d)+d}function toRsqlValue(a){return containsRsqlReservedCharacter(a)?rsqlEscape(a):a}function encodeRsqlValue(a){return(0,_mdurl.encode)(a,_mdurl.encode.componentChars+'=:,;"\'<>#',!1)}var transformToRSQL=exports.transformToRSQL=getRsqlFromConstraint;function getRsqlFromConstraint(a){return a.operator?getRsqlFromComplexConstraint(a):getRsqlFromSimpleConstraint(a)}function getRsqlFromSimpleConstraint(a){return toRsqlValue(a.selector)+a.comparison+toRsqlValue(a.arguments)}function getRsqlFromComplexConstraint(a){var b='OR'===a.operator?',':';',c=a.operands.map(getRsqlFromConstraint);return'('+c.join(b)+')'}exports.default={transformToRSQL:transformToRSQL};
